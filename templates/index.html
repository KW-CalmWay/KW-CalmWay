<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalmWay - 혼잡도 기반 길찾기</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey={{ tmap_app_key }}"></script>

    <link rel="stylesheet" href="/static/css/app.css">
</head>

<body>
    <div id="app-container">

        <!-- 상단 헤더 -->
        {% include "partials/header.html" %}

        <div class="content-area bg-gray-50">
            <!-- 탭 콘텐츠 -->
            {% include "partials/tabs/route.html" %}
            {% include "partials/tabs/analysis.html" %}
            {% include "partials/tabs/settings.html" %}
        </div>

        <!-- 하단 내비게이션/모달 -->
        {% include "partials/nav.html" %}
        {% include "partials/map_modal.html" %}
        <div id="graph-modal" class="graph-modal hidden" onclick="closeGraphModal()">
            <div class="graph-modal-content" onclick="event.stopPropagation()">
                <button class="graph-modal-close" onclick="closeGraphModal()">
                    <i class="fas fa-times"></i>
                </button>
                <img id="graph-modal-image" src="" alt="" />
            </div>
        </div>
        <div id="analysis-map-modal" class="analysis-map-modal hidden" onclick="closeAnalysisMapModal()">
            <div class="analysis-map-modal-content" onclick="event.stopPropagation()">
                <button class="analysis-map-modal-close" onclick="closeAnalysisMapModal()">
                    <i class="fas fa-times"></i>
                </button>
                <div class="analysis-map-modal-title" id="analysis-map-modal-title"></div>
                <iframe id="analysis-map-frame" src="" title="혼잡도 지도"></iframe>
            </div>
        </div>

    </div>

    <!-- 앱 스크립트 -->
    <script src="/static/js/state.js"></script>
    <script src="/static/js/api.js"></script>
    <script src="/static/js/app.js"></script>
    <script src="/static/js/route.js"></script>
    <script src="/static/js/map.js"></script>
    <script src="/static/js/analysis.js"></script>
    <script src="/static/js/settings.js"></script>
</body>

</html>

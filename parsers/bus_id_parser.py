import pandas as pd
import numpy as np

api_response = {
     "metaData": {
          "requestParameters": {
               "busCount": 2,
               "expressbusCount": 0,
               "subwayCount": 1,
               "airplaneCount": 0,
               "locale": "ko",
               "endY": "37.5351266",
               "endX": " 127.09465022",
               "wideareaRouteCount": 0,
               "subwayBusCount": 7,
               "startY": "37.56590061",
               "startX": " 127.0842614",
               "ferryCount": 0,
               "trainCount": 0,
               "reqDttm": "20260118002756"
          },
          "plan": {
               "itineraries": [
                    {
                         "fare": {
                              "regular": {
                                   "totalFare": 1550,
                                   "currency": {
                                        "symbol": "￦",
                                        "currency": "원",
                                        "currencyCode": "KRW"
                                   }
                              }
                         },
                         "totalTime": 970,
                         "legs": [
                              {
                                   "mode": "WALK",
                                   "sectionTime": 98,
                                   "distance": 112,
                                   "start": {
                                        "name": "출발지",
                                        "lon": 127.0842614,
                                        "lat": 37.56590061
                                   },
                                   "end": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "steps": [
                                        {
                                             "streetName": "",
                                             "distance": 36,
                                             "description": "36m 이동",
                                             "linestring": "127.08428,37.56589 127.084305,37.565937 127.08444,37.56619"
                                        },
                                        {
                                             "streetName": "",
                                             "distance": 24,
                                             "description": "중곡역  2번출구에서 우회전 후 24m 이동",
                                             "linestring": "127.08444,37.56619 127.084694,37.566105"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 15,
                                             "description": "중곡역  1번출구에서 우회전 후 보행자도로를 따라 15m 이동",
                                             "linestring": "127.084694,37.566105 127.0846,37.566074 127.084526,37.566086"
                                        },
                                        {
                                             "streetName": "능동로",
                                             "distance": 37,
                                             "description": "중곡역  1번출구에서 좌회전 후 능동로를 따라 37m 이동",
                                             "linestring": "127.084526,37.566086 127.08436,37.565784"
                                        }
                                   ]
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "747F00",
                                   "sectionTime": 360,
                                   "route": "수도권7호선",
                                   "routeId": "110071025",
                                   "distance": 3066,
                                   "service": 0,
                                   "start": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "중곡",
                                                  "lon": "127.084250",
                                                  "lat": "37.565825",
                                                  "stationID": "110716"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "군자",
                                                  "lon": "127.079486",
                                                  "lat": "37.557122",
                                                  "stationID": "110717"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "어린이대공원",
                                                  "lon": "127.074614",
                                                  "lat": "37.547917",
                                                  "stationID": "110718"
                                             },
                                             {
                                                  "index": 3,
                                                  "stationName": "건대입구",
                                                  "lon": "127.071011",
                                                  "lat": "37.540675",
                                                  "stationID": "110719"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "건대입구",
                                        "lon": 127.0710111111111,
                                        "lat": 37.540675
                                   },
                                   "type": 7,
                                   "passShape": {
                                        "linestring": "127.084106,37.565561 127.081781,37.561333 127.080903,37.559681 127.079506,37.557161 127.079492,37.557139 127.079339,37.556828 127.079211,37.556578 127.077958,37.554381 127.077553,37.553558 127.076858,37.552094 127.076533,37.551344 127.076300,37.550836 127.076106,37.550433 127.075842,37.549936 127.075281,37.548978 127.075025,37.548572 127.074353,37.547500 127.074342,37.547486 127.074056,37.547094 127.073775,37.546542 127.072617,37.544094 127.071803,37.542356 127.070733,37.540083"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 252,
                                   "distance": 295,
                                   "start": {
                                        "name": "건대입구",
                                        "lon": 127.0710111111111,
                                        "lat": 37.540675
                                   },
                                   "end": {
                                        "name": "건대입구",
                                        "lon": 127.06925833333334,
                                        "lat": 37.540391666666665
                                   },
                                   "passShape": {
                                        "linestring": "127.071011,37.540675 127.071086,37.540908 127.071100,37.540933 127.071278,37.540875 127.071028,37.540328 127.070925,37.540103 127.070936,37.540067 127.070547,37.540183 127.070500,37.540158 127.070414,37.540189 127.069853,37.540378 127.069258,37.540392"
                                   }
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "009D3E",
                                   "sectionTime": 240,
                                   "route": "수도권2호선",
                                   "routeId": "110021006",
                                   "distance": 2497,
                                   "service": 0,
                                   "start": {
                                        "name": "건대입구",
                                        "lon": 127.06925833333334,
                                        "lat": 37.540391666666665
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "건대입구",
                                                  "lon": "127.069258",
                                                  "lat": "37.540392",
                                                  "stationID": "110212"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "구의",
                                                  "lon": "127.086106",
                                                  "lat": "37.537142",
                                                  "stationID": "110213"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "강변",
                                                  "lon": "127.094697",
                                                  "lat": "37.535131",
                                                  "stationID": "110214"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "강변",
                                        "lon": 127.09469722222222,
                                        "lat": 37.535130555555554
                                   },
                                   "type": 2,
                                   "passShape": {
                                        "linestring": "127.069256,37.540389 127.070656,37.539919 127.072531,37.539294 127.072961,37.539161 127.073508,37.539008 127.074019,37.538881 127.077219,37.538081 127.082714,37.536711 127.082778,37.536694 127.082844,37.536678 127.082908,37.536664 127.082978,37.536653 127.083042,37.536642 127.083108,37.536631 127.083178,37.536622 127.083244,37.536617 127.083311,37.536608 127.083381,37.536606 127.083447,37.536603 127.083517,37.536603 127.083583,37.536603 127.083653,37.536603 127.083719,37.536606 127.083789,37.536611 127.083856,37.536617 127.083922,37.536625 127.083989,37.536633 127.084056,37.536644 127.084122,37.536656 127.084814,37.536808 127.086108,37.537133 127.089081,37.537883 127.089333,37.537944 127.089592,37.537994 127.089850,37.538031 127.090114,37.538050 127.090378,37.538058 127.090642,37.538053 127.090903,37.538031 127.091164,37.537997 127.091422,37.537950 127.091675,37.537886 127.091919,37.537811 127.092161,37.537725 127.092392,37.537625 127.092617,37.537511 127.092831,37.537389 127.093031,37.537253 127.093222,37.537108 127.093403,37.536953 127.093567,37.536789 127.093717,37.536617 127.093853,37.536436 127.094697,37.535131"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 20,
                                   "distance": 22,
                                   "start": {
                                        "name": "강변",
                                        "lon": 127.09469722222222,
                                        "lat": 37.535130555555554
                                   },
                                   "end": {
                                        "name": "도착지",
                                        "lon": 127.09465022,
                                        "lat": 37.5351266
                                   },
                                   "steps": [
                                        {
                                             "streetName": "",
                                             "distance": 19,
                                             "description": "19m 이동",
                                             "linestring": "127.0947,37.535133 127.09467,37.53517 127.094536,37.535114"
                                        },
                                        {
                                             "streetName": "강변역로",
                                             "distance": 3,
                                             "description": "강변역  4번출구에서 직진 후 강변역로를 따라 3m 이동",
                                             "linestring": "127.094536,37.535114 127.09455,37.53509 127.09455,37.535088"
                                        }
                                   ]
                              }
                         ],
                         "totalWalkTime": 370,
                         "transferCount": 1,
                         "totalDistance": 5872,
                         "pathType": 1,
                         "totalWalkDistance": 429
                    },
                    {
                         "fare": {
                              "regular": {
                                   "totalFare": 3200,
                                   "currency": {
                                        "symbol": "￦",
                                        "currency": "원",
                                        "currencyCode": "KRW"
                                   }
                              }
                         },
                         "totalTime": 1477,
                         "legs": [
                              {
                                   "mode": "WALK",
                                   "sectionTime": 98,
                                   "distance": 112,
                                   "start": {
                                        "name": "출발지",
                                        "lon": 127.0842614,
                                        "lat": 37.56590061
                                   },
                                   "end": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "steps": [
                                        {
                                             "streetName": "",
                                             "distance": 36,
                                             "description": "36m 이동",
                                             "linestring": "127.08428,37.56589 127.084305,37.565937 127.08444,37.56619"
                                        },
                                        {
                                             "streetName": "",
                                             "distance": 24,
                                             "description": "중곡역  2번출구에서 우회전 후 24m 이동",
                                             "linestring": "127.08444,37.56619 127.084694,37.566105"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 15,
                                             "description": "중곡역  1번출구에서 우회전 후 보행자도로를 따라 15m 이동",
                                             "linestring": "127.084694,37.566105 127.0846,37.566074 127.084526,37.566086"
                                        },
                                        {
                                             "streetName": "능동로",
                                             "distance": 37,
                                             "description": "중곡역  1번출구에서 좌회전 후 능동로를 따라 37m 이동",
                                             "linestring": "127.084526,37.566086 127.08436,37.565784"
                                        }
                                   ]
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "747F00",
                                   "sectionTime": 360,
                                   "route": "수도권7호선",
                                   "routeId": "110071025",
                                   "distance": 3066,
                                   "service": 0,
                                   "start": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "중곡",
                                                  "lon": "127.084250",
                                                  "lat": "37.565825",
                                                  "stationID": "110716"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "군자",
                                                  "lon": "127.079486",
                                                  "lat": "37.557122",
                                                  "stationID": "110717"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "어린이대공원",
                                                  "lon": "127.074614",
                                                  "lat": "37.547917",
                                                  "stationID": "110718"
                                             },
                                             {
                                                  "index": 3,
                                                  "stationName": "건대입구",
                                                  "lon": "127.071011",
                                                  "lat": "37.540675",
                                                  "stationID": "110719"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "건대입구",
                                        "lon": 127.0710111111111,
                                        "lat": 37.540675
                                   },
                                   "type": 7,
                                   "passShape": {
                                        "linestring": "127.084106,37.565561 127.081781,37.561333 127.080903,37.559681 127.079506,37.557161 127.079492,37.557139 127.079339,37.556828 127.079211,37.556578 127.077958,37.554381 127.077553,37.553558 127.076858,37.552094 127.076533,37.551344 127.076300,37.550836 127.076106,37.550433 127.075842,37.549936 127.075281,37.548978 127.075025,37.548572 127.074353,37.547500 127.074342,37.547486 127.074056,37.547094 127.073775,37.546542 127.072617,37.544094 127.071803,37.542356 127.070733,37.540083"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 46,
                                   "distance": 47,
                                   "start": {
                                        "name": "건대입구",
                                        "lon": 127.0710111111111,
                                        "lat": 37.540675
                                   },
                                   "end": {
                                        "name": "건대입구역사거리.건대병원",
                                        "lon": 127.07124166666667,
                                        "lat": 37.540886111111114
                                   },
                                   "passShape": {
                                        "linestring": "127.071011,37.540675 127.071086,37.540908 127.071100,37.540933 127.071242,37.540886"
                                   }
                              },
                              {
                                   "routeColor": "FF3300",
                                   "distance": 3710,
                                   "start": {
                                        "name": "건대입구역사거리.건대병원",
                                        "lon": 127.07124166666667,
                                        "lat": 37.540886111111114
                                   },
                                   "Lane": [
                                        {
                                             "routeColor": "FF3300",
                                             "route": "직행좌석:P9404",
                                             "routeId": "1019532001",
                                             "service": 0,
                                             "type": 4
                                        },
                                        {
                                             "routeColor": "FF3300",
                                             "route": "직행좌석:P9401",
                                             "routeId": "1019533001",
                                             "service": 0,
                                             "type": 4
                                        }
                                   ],
                                   "type": 4,
                                   "mode": "BUS",
                                   "sectionTime": 715,
                                   "route": "직행좌석:P9402",
                                   "routeId": "1019531001",
                                   "service": 0,
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "건대입구역사거리.건대병원",
                                                  "lon": "127.071242",
                                                  "lat": "37.540886",
                                                  "stationID": "773828"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "테크노마트앞.강변역",
                                                  "lon": "127.093964",
                                                  "lat": "37.536628",
                                                  "stationID": "773641"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "테크노마트앞.강변역",
                                        "lon": 127.0939638888889,
                                        "lat": 37.53662777777778
                                   },
                                   "passShape": {
                                        "linestring": "127.071200,37.540897 127.072764,37.544267 127.073742,37.546336 127.074100,37.547072 127.074133,37.547125 127.074217,37.547189 127.074467,37.547128 127.074906,37.546981 127.076958,37.545969 127.077208,37.545864 127.077428,37.545794 127.079367,37.545372 127.079739,37.545325 127.085169,37.545017 127.085356,37.545003 127.089731,37.544772 127.090047,37.544750 127.090617,37.544658 127.090717,37.544636 127.091889,37.544267 127.092375,37.544081 127.092625,37.543967 127.092850,37.543839 127.093097,37.543669 127.093356,37.543458 127.095567,37.541328 127.095736,37.541164 127.095858,37.541058 127.096478,37.540614 127.098228,37.539267 127.098169,37.539214 127.095864,37.537178 127.094811,37.536292 127.094717,37.536231 127.094533,37.536217 127.094311,37.536244 127.094150,37.536456 127.093969,37.536631"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 258,
                                   "distance": 274,
                                   "start": {
                                        "name": "테크노마트앞.강변역",
                                        "lon": 127.0939638888889,
                                        "lat": 37.53662777777778
                                   },
                                   "end": {
                                        "name": "도착지",
                                        "lon": 127.09465022,
                                        "lat": 37.5351266
                                   },
                                   "steps": [
                                        {
                                             "streetName": "강변역로",
                                             "distance": 40,
                                             "description": "강변역로를 따라 40m 이동",
                                             "linestring": "127.094,37.53665 127.09371,37.53693"
                                        },
                                        {
                                             "streetName": "",
                                             "distance": 16,
                                             "description": "좌측 횡단보도 후 16m 이동",
                                             "linestring": "127.09371,37.53693 127.09357,37.536842"
                                        },
                                        {
                                             "streetName": "",
                                             "distance": 7,
                                             "description": "좌회전 후 7m 이동",
                                             "linestring": "127.09357,37.536842 127.09356,37.53678"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 21,
                                             "description": "횡단보도 후 보행자도로를 따라 21m 이동",
                                             "linestring": "127.09356,37.53678 127.0937,37.53663"
                                        },
                                        {
                                             "streetName": "강변역로",
                                             "distance": 190,
                                             "description": "직진 후 강변역로를 따라 190m 이동",
                                             "linestring": "127.0937,37.53663 127.09367,37.536617 127.09366,37.5366 127.093925,37.536144 127.09402,37.535973 127.09443,37.535286 127.094536,37.535114 127.09455,37.53509 127.09455,37.535088"
                                        }
                                   ]
                              }
                         ],
                         "totalWalkTime": 402,
                         "transferCount": 1,
                         "totalDistance": 7010,
                         "pathType": 3,
                         "totalWalkDistance": 433
                    },
                    {
                         "fare": {
                              "regular": {
                                   "totalFare": 1650,
                                   "currency": {
                                        "symbol": "￦",
                                        "currency": "원",
                                        "currencyCode": "KRW"
                                   }
                              }
                         },
                         "totalTime": 1222,
                         "legs": [
                              {
                                   "mode": "WALK",
                                   "sectionTime": 98,
                                   "distance": 112,
                                   "start": {
                                        "name": "출발지",
                                        "lon": 127.0842614,
                                        "lat": 37.56590061
                                   },
                                   "end": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "steps": [
                                        {
                                             "streetName": "",
                                             "distance": 36,
                                             "description": "36m 이동",
                                             "linestring": "127.08428,37.56589 127.084305,37.565937 127.08444,37.56619"
                                        },
                                        {
                                             "streetName": "",
                                             "distance": 24,
                                             "description": "중곡역  2번출구에서 우회전 후 24m 이동",
                                             "linestring": "127.08444,37.56619 127.084694,37.566105"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 15,
                                             "description": "중곡역  1번출구에서 우회전 후 보행자도로를 따라 15m 이동",
                                             "linestring": "127.084694,37.566105 127.0846,37.566074 127.084526,37.566086"
                                        },
                                        {
                                             "streetName": "능동로",
                                             "distance": 37,
                                             "description": "중곡역  1번출구에서 좌회전 후 능동로를 따라 37m 이동",
                                             "linestring": "127.084526,37.566086 127.08436,37.565784"
                                        }
                                   ]
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "747F00",
                                   "sectionTime": 120,
                                   "route": "수도권7호선",
                                   "routeId": "110071025",
                                   "distance": 1020,
                                   "service": 0,
                                   "start": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "중곡",
                                                  "lon": "127.084250",
                                                  "lat": "37.565825",
                                                  "stationID": "110716"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "군자",
                                                  "lon": "127.079486",
                                                  "lat": "37.557122",
                                                  "stationID": "110717"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "군자",
                                        "lon": 127.07948611111111,
                                        "lat": 37.55712222222222
                                   },
                                   "type": 7,
                                   "passShape": {
                                        "linestring": "127.084106,37.565561 127.081781,37.561333 127.080903,37.559681 127.079506,37.557161 127.079492,37.557139"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 84,
                                   "distance": 90,
                                   "start": {
                                        "name": "군자",
                                        "lon": 127.07948611111111,
                                        "lat": 37.55712222222222
                                   },
                                   "end": {
                                        "name": "군자",
                                        "lon": 127.07943611111111,
                                        "lat": 37.55718888888889
                                   },
                                   "passShape": {
                                        "linestring": "127.079486,37.557122 127.079475,37.557169 127.079319,37.557231 127.079222,37.557056 127.078947,37.557164 127.078922,37.557164 127.079436,37.557189"
                                   }
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "996CAC",
                                   "sectionTime": 240,
                                   "route": "수도권5호선",
                                   "routeId": "110053010",
                                   "distance": 2593,
                                   "service": 0,
                                   "start": {
                                        "name": "군자",
                                        "lon": 127.07943611111111,
                                        "lat": 37.55718888888889
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "군자",
                                                  "lon": "127.079436",
                                                  "lat": "37.557189",
                                                  "stationID": "110535"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "아차산",
                                                  "lon": "127.089692",
                                                  "lat": "37.551953",
                                                  "stationID": "110536"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "광나루",
                                                  "lon": "127.103864",
                                                  "lat": "37.545269",
                                                  "stationID": "110537"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "광나루",
                                        "lon": 127.1038638888889,
                                        "lat": 37.54526944444444
                                   },
                                   "type": 5,
                                   "passShape": {
                                        "linestring": "127.079506,37.557161 127.086556,37.554433 127.087156,37.554181 127.087258,37.554142 127.087358,37.554100 127.087458,37.554056 127.087558,37.554014 127.087658,37.553967 127.087756,37.553917 127.087850,37.553867 127.087944,37.553817 127.088036,37.553764 127.088128,37.553708 127.088217,37.553653 127.088306,37.553594 127.088392,37.553533 127.088478,37.553472 127.088558,37.553411 127.088639,37.553344 127.088719,37.553281 127.088797,37.553214 127.088872,37.553144 127.088944,37.553075 127.089017,37.553006 127.089364,37.552544 127.089747,37.551850 127.089814,37.551725 127.090158,37.551081 127.090208,37.551000 127.090542,37.550497 127.090589,37.550428 127.090639,37.550358 127.090692,37.550292 127.090747,37.550225 127.090806,37.550158 127.090864,37.550097 127.090928,37.550033 127.090992,37.549975 127.091058,37.549914 127.091128,37.549858 127.091200,37.549803 127.091275,37.549750 127.091350,37.549697 127.091428,37.549647 127.091506,37.549600 127.091589,37.549553 127.091669,37.549508 127.091756,37.549467 127.091842,37.549425 127.091931,37.549389 127.092019,37.549353 127.094042,37.548639 127.102342,37.545714 127.103614,37.545344 127.103789,37.545292"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 119,
                                   "distance": 138,
                                   "start": {
                                        "name": "광나루",
                                        "lon": 127.1038638888889,
                                        "lat": 37.54526944444444
                                   },
                                   "end": {
                                        "name": "광나루역.극동아파트",
                                        "lon": 127.10331388888889,
                                        "lat": 37.544177777777776
                                   },
                                   "passShape": {
                                        "linestring": "127.103864,37.545269 127.103836,37.545189 127.103867,37.545078 127.103917,37.544939 127.103697,37.544686 127.103669,37.544669 127.103442,37.544422 127.103375,37.544319 127.103314,37.544178"
                                   }
                              },
                              {
                                   "routeColor": "53B332",
                                   "distance": 1412,
                                   "start": {
                                        "name": "광나루역.극동아파트",
                                        "lon": 127.10331388888889,
                                        "lat": 37.544177777777776
                                   },
                                   "Lane": [
                                        {
                                             "routeColor": "53B332",
                                             "route": "일반:1-1",
                                             "routeId": "1018006001",
                                             "service": 0,
                                             "type": 1
                                        },
                                        {
                                             "routeColor": "53B332",
                                             "route": "일반:9",
                                             "routeId": "1018409001",
                                             "service": 0,
                                             "type": 1
                                        },
                                        {
                                             "routeColor": "53B332",
                                             "route": "일반:92",
                                             "routeId": "1019216001",
                                             "service": 0,
                                             "type": 1
                                        },
                                        {
                                             "routeColor": "FF3300",
                                             "route": "직행좌석:100",
                                             "routeId": "1019287001",
                                             "service": 0,
                                             "type": 4
                                        }
                                   ],
                                   "type": 1,
                                   "mode": "BUS",
                                   "sectionTime": 417,
                                   "route": "일반:95",
                                   "routeId": "1018434001",
                                   "service": 0,
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "광나루역.극동아파트",
                                                  "lon": "127.103314",
                                                  "lat": "37.544178",
                                                  "stationID": "773995"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "광장동현대아파트앞",
                                                  "lon": "127.097733",
                                                  "lat": "37.541894",
                                                  "stationID": "773880"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "현대아파트앞",
                                                  "lon": "127.093889",
                                                  "lat": "37.539147",
                                                  "stationID": "773747"
                                             },
                                             {
                                                  "index": 3,
                                                  "stationName": "강변역(B)",
                                                  "lon": "127.093700",
                                                  "lat": "37.536139",
                                                  "stationID": "773610"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "강변역(B)",
                                        "lon": 127.0937,
                                        "lat": 37.536138888888885
                                   },
                                   "passShape": {
                                        "linestring": "127.103350,37.544158 127.103183,37.543975 127.102978,37.543778 127.102761,37.543614 127.102503,37.543469 127.102244,37.543364 127.101786,37.543192 127.101289,37.543028 127.097750,37.541864 127.097258,37.541703 127.097064,37.541639 127.095894,37.541239 127.095736,37.541164 127.094200,37.540250 127.094153,37.540053 127.093931,37.539142 127.093808,37.538631 127.093711,37.538311 127.093614,37.538125 127.093103,37.537297 127.093125,37.537167 127.093147,37.537044 127.093225,37.536947 127.093333,37.536819 127.093525,37.536531 127.093739,37.536153"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 144,
                                   "distance": 157,
                                   "start": {
                                        "name": "강변역(B)",
                                        "lon": 127.0937,
                                        "lat": 37.536138888888885
                                   },
                                   "end": {
                                        "name": "도착지",
                                        "lon": 127.09465022,
                                        "lat": 37.5351266
                                   },
                                   "steps": [
                                        {
                                             "streetName": "강변역로",
                                             "distance": 29,
                                             "description": "강변역로를 따라 29m 이동",
                                             "linestring": "127.09369,37.536137 127.09383,37.5359"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 19,
                                             "description": "좌측 횡단보도 후 보행자도로를 따라 19m 이동",
                                             "linestring": "127.09383,37.5359 127.09402,37.535973"
                                        },
                                        {
                                             "streetName": "강변역로",
                                             "distance": 109,
                                             "description": "우회전 후 강변역로를 따라 109m 이동",
                                             "linestring": "127.09402,37.535973 127.09443,37.535286 127.094536,37.535114 127.09455,37.53509 127.09455,37.535088"
                                        }
                                   ]
                              }
                         ],
                         "totalWalkTime": 445,
                         "transferCount": 2,
                         "totalDistance": 5403,
                         "pathType": 3,
                         "totalWalkDistance": 497
                    },
                    {
                         "fare": {
                              "regular": {
                                   "totalFare": 1650,
                                   "currency": {
                                        "symbol": "￦",
                                        "currency": "원",
                                        "currencyCode": "KRW"
                                   }
                              }
                         },
                         "totalTime": 1225,
                         "legs": [
                              {
                                   "mode": "WALK",
                                   "sectionTime": 98,
                                   "distance": 112,
                                   "start": {
                                        "name": "출발지",
                                        "lon": 127.0842614,
                                        "lat": 37.56590061
                                   },
                                   "end": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "steps": [
                                        {
                                             "streetName": "",
                                             "distance": 36,
                                             "description": "36m 이동",
                                             "linestring": "127.08428,37.56589 127.084305,37.565937 127.08444,37.56619"
                                        },
                                        {
                                             "streetName": "",
                                             "distance": 24,
                                             "description": "중곡역  2번출구에서 우회전 후 24m 이동",
                                             "linestring": "127.08444,37.56619 127.084694,37.566105"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 15,
                                             "description": "중곡역  1번출구에서 우회전 후 보행자도로를 따라 15m 이동",
                                             "linestring": "127.084694,37.566105 127.0846,37.566074 127.084526,37.566086"
                                        },
                                        {
                                             "streetName": "능동로",
                                             "distance": 37,
                                             "description": "중곡역  1번출구에서 좌회전 후 능동로를 따라 37m 이동",
                                             "linestring": "127.084526,37.566086 127.08436,37.565784"
                                        }
                                   ]
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "747F00",
                                   "sectionTime": 120,
                                   "route": "수도권7호선",
                                   "routeId": "110071025",
                                   "distance": 1020,
                                   "service": 0,
                                   "start": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "중곡",
                                                  "lon": "127.084250",
                                                  "lat": "37.565825",
                                                  "stationID": "110716"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "군자",
                                                  "lon": "127.079486",
                                                  "lat": "37.557122",
                                                  "stationID": "110717"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "군자",
                                        "lon": 127.07948611111111,
                                        "lat": 37.55712222222222
                                   },
                                   "type": 7,
                                   "passShape": {
                                        "linestring": "127.084106,37.565561 127.081781,37.561333 127.080903,37.559681 127.079506,37.557161 127.079492,37.557139"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 84,
                                   "distance": 90,
                                   "start": {
                                        "name": "군자",
                                        "lon": 127.07948611111111,
                                        "lat": 37.55712222222222
                                   },
                                   "end": {
                                        "name": "군자",
                                        "lon": 127.07943611111111,
                                        "lat": 37.55718888888889
                                   },
                                   "passShape": {
                                        "linestring": "127.079486,37.557122 127.079475,37.557169 127.079319,37.557231 127.079222,37.557056 127.078947,37.557164 127.078922,37.557164 127.079436,37.557189"
                                   }
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "996CAC",
                                   "sectionTime": 240,
                                   "route": "수도권5호선",
                                   "routeId": "110053010",
                                   "distance": 2593,
                                   "service": 0,
                                   "start": {
                                        "name": "군자",
                                        "lon": 127.07943611111111,
                                        "lat": 37.55718888888889
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "군자",
                                                  "lon": "127.079436",
                                                  "lat": "37.557189",
                                                  "stationID": "110535"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "아차산",
                                                  "lon": "127.089692",
                                                  "lat": "37.551953",
                                                  "stationID": "110536"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "광나루",
                                                  "lon": "127.103864",
                                                  "lat": "37.545269",
                                                  "stationID": "110537"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "광나루",
                                        "lon": 127.1038638888889,
                                        "lat": 37.54526944444444
                                   },
                                   "type": 5,
                                   "passShape": {
                                        "linestring": "127.079506,37.557161 127.086556,37.554433 127.087156,37.554181 127.087258,37.554142 127.087358,37.554100 127.087458,37.554056 127.087558,37.554014 127.087658,37.553967 127.087756,37.553917 127.087850,37.553867 127.087944,37.553817 127.088036,37.553764 127.088128,37.553708 127.088217,37.553653 127.088306,37.553594 127.088392,37.553533 127.088478,37.553472 127.088558,37.553411 127.088639,37.553344 127.088719,37.553281 127.088797,37.553214 127.088872,37.553144 127.088944,37.553075 127.089017,37.553006 127.089364,37.552544 127.089747,37.551850 127.089814,37.551725 127.090158,37.551081 127.090208,37.551000 127.090542,37.550497 127.090589,37.550428 127.090639,37.550358 127.090692,37.550292 127.090747,37.550225 127.090806,37.550158 127.090864,37.550097 127.090928,37.550033 127.090992,37.549975 127.091058,37.549914 127.091128,37.549858 127.091200,37.549803 127.091275,37.549750 127.091350,37.549697 127.091428,37.549647 127.091506,37.549600 127.091589,37.549553 127.091669,37.549508 127.091756,37.549467 127.091842,37.549425 127.091931,37.549389 127.092019,37.549353 127.094042,37.548639 127.102342,37.545714 127.103614,37.545344 127.103789,37.545292"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 119,
                                   "distance": 138,
                                   "start": {
                                        "name": "광나루",
                                        "lon": 127.1038638888889,
                                        "lat": 37.54526944444444
                                   },
                                   "end": {
                                        "name": "광나루역.극동아파트",
                                        "lon": 127.10331388888889,
                                        "lat": 37.544177777777776
                                   },
                                   "passShape": {
                                        "linestring": "127.103864,37.545269 127.103836,37.545189 127.103867,37.545078 127.103917,37.544939 127.103697,37.544686 127.103669,37.544669 127.103442,37.544422 127.103375,37.544319 127.103314,37.544178"
                                   }
                              },
                              {
                                   "routeColor": "53B332",
                                   "distance": 1398,
                                   "start": {
                                        "name": "광나루역.극동아파트",
                                        "lon": 127.10331388888889,
                                        "lat": 37.544177777777776
                                   },
                                   "Lane": [
                                        {
                                             "routeColor": "FF3300",
                                             "route": "직행좌석:1006",
                                             "routeId": "1018474001",
                                             "service": 0,
                                             "type": 4
                                        },
                                        {
                                             "routeColor": "53B332",
                                             "route": "일반:93",
                                             "routeId": "1018412001",
                                             "service": 0,
                                             "type": 1
                                        },
                                        {
                                             "routeColor": "FF3300",
                                             "route": "직행좌석:11",
                                             "routeId": "1019617001",
                                             "service": 0,
                                             "type": 4
                                        }
                                   ],
                                   "type": 1,
                                   "mode": "BUS",
                                   "sectionTime": 408,
                                   "route": "일반:1",
                                   "routeId": "1018437001",
                                   "service": 0,
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "광나루역.극동아파트",
                                                  "lon": "127.103314",
                                                  "lat": "37.544178",
                                                  "stationID": "773995"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "광장동현대아파트앞",
                                                  "lon": "127.097733",
                                                  "lat": "37.541894",
                                                  "stationID": "773880"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "현대아파트앞",
                                                  "lon": "127.093889",
                                                  "lat": "37.539147",
                                                  "stationID": "773747"
                                             },
                                             {
                                                  "index": 3,
                                                  "stationName": "강변역A",
                                                  "lon": "127.093597",
                                                  "lat": "37.536250",
                                                  "stationID": "773613"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "강변역A",
                                        "lon": 127.09359722222223,
                                        "lat": 37.53625
                                   },
                                   "passShape": {
                                        "linestring": "127.103350,37.544158 127.103183,37.543975 127.102978,37.543778 127.102761,37.543614 127.102503,37.543469 127.102244,37.543364 127.101786,37.543192 127.101289,37.543028 127.097750,37.541864 127.097258,37.541703 127.097064,37.541639 127.095894,37.541239 127.095736,37.541164 127.094200,37.540250 127.094153,37.540053 127.093931,37.539142 127.093808,37.538631 127.093711,37.538311 127.093614,37.538125 127.093103,37.537297 127.093125,37.537167 127.093147,37.537044 127.093225,37.536947 127.093333,37.536819 127.093525,37.536531 127.093669,37.536275"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 156,
                                   "distance": 172,
                                   "start": {
                                        "name": "강변역A",
                                        "lon": 127.09359722222223,
                                        "lat": 37.53625
                                   },
                                   "end": {
                                        "name": "도착지",
                                        "lon": 127.09465022,
                                        "lat": 37.5351266
                                   },
                                   "steps": [
                                        {
                                             "streetName": "강변역로",
                                             "distance": 44,
                                             "description": "강변역로를 따라 44m 이동",
                                             "linestring": "127.09362,37.53626 127.09383,37.5359"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 19,
                                             "description": "좌측 횡단보도 후 보행자도로를 따라 19m 이동",
                                             "linestring": "127.09383,37.5359 127.09402,37.535973"
                                        },
                                        {
                                             "streetName": "강변역로",
                                             "distance": 109,
                                             "description": "우회전 후 강변역로를 따라 109m 이동",
                                             "linestring": "127.09402,37.535973 127.09443,37.535286 127.094536,37.535114 127.09455,37.53509 127.09455,37.535088"
                                        }
                                   ]
                              }
                         ],
                         "totalWalkTime": 457,
                         "transferCount": 2,
                         "totalDistance": 5404,
                         "pathType": 3,
                         "totalWalkDistance": 512
                    },
                    {
                         "fare": {
                              "regular": {
                                   "totalFare": 1550,
                                   "currency": {
                                        "symbol": "￦",
                                        "currency": "원",
                                        "currencyCode": "KRW"
                                   }
                              }
                         },
                         "totalTime": 1454,
                         "legs": [
                              {
                                   "mode": "WALK",
                                   "sectionTime": 98,
                                   "distance": 112,
                                   "start": {
                                        "name": "출발지",
                                        "lon": 127.0842614,
                                        "lat": 37.56590061
                                   },
                                   "end": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "steps": [
                                        {
                                             "streetName": "",
                                             "distance": 36,
                                             "description": "36m 이동",
                                             "linestring": "127.08428,37.56589 127.084305,37.565937 127.08444,37.56619"
                                        },
                                        {
                                             "streetName": "",
                                             "distance": 24,
                                             "description": "중곡역  2번출구에서 우회전 후 24m 이동",
                                             "linestring": "127.08444,37.56619 127.084694,37.566105"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 15,
                                             "description": "중곡역  1번출구에서 우회전 후 보행자도로를 따라 15m 이동",
                                             "linestring": "127.084694,37.566105 127.0846,37.566074 127.084526,37.566086"
                                        },
                                        {
                                             "streetName": "능동로",
                                             "distance": 37,
                                             "description": "중곡역  1번출구에서 좌회전 후 능동로를 따라 37m 이동",
                                             "linestring": "127.084526,37.566086 127.08436,37.565784"
                                        }
                                   ]
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "747F00",
                                   "sectionTime": 120,
                                   "route": "수도권7호선",
                                   "routeId": "110071025",
                                   "distance": 1020,
                                   "service": 0,
                                   "start": {
                                        "name": "중곡",
                                        "lon": 127.08425,
                                        "lat": 37.565825
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "중곡",
                                                  "lon": "127.084250",
                                                  "lat": "37.565825",
                                                  "stationID": "110716"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "군자",
                                                  "lon": "127.079486",
                                                  "lat": "37.557122",
                                                  "stationID": "110717"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "군자",
                                        "lon": 127.07948611111111,
                                        "lat": 37.55712222222222
                                   },
                                   "type": 7,
                                   "passShape": {
                                        "linestring": "127.084106,37.565561 127.081781,37.561333 127.080903,37.559681 127.079506,37.557161 127.079492,37.557139"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 84,
                                   "distance": 90,
                                   "start": {
                                        "name": "군자",
                                        "lon": 127.07948611111111,
                                        "lat": 37.55712222222222
                                   },
                                   "end": {
                                        "name": "군자",
                                        "lon": 127.07943611111111,
                                        "lat": 37.55718888888889
                                   },
                                   "passShape": {
                                        "linestring": "127.079486,37.557122 127.079475,37.557169 127.079319,37.557231 127.079222,37.557056 127.078947,37.557164 127.078922,37.557164 127.079436,37.557189"
                                   }
                              },
                              {
                                   "mode": "SUBWAY",
                                   "routeColor": "996CAC",
                                   "sectionTime": 240,
                                   "route": "수도권5호선",
                                   "routeId": "110053010",
                                   "distance": 2593,
                                   "service": 0,
                                   "start": {
                                        "name": "군자",
                                        "lon": 127.07943611111111,
                                        "lat": 37.55718888888889
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "군자",
                                                  "lon": "127.079436",
                                                  "lat": "37.557189",
                                                  "stationID": "110535"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "아차산",
                                                  "lon": "127.089692",
                                                  "lat": "37.551953",
                                                  "stationID": "110536"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "광나루",
                                                  "lon": "127.103864",
                                                  "lat": "37.545269",
                                                  "stationID": "110537"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "광나루",
                                        "lon": 127.1038638888889,
                                        "lat": 37.54526944444444
                                   },
                                   "type": 5,
                                   "passShape": {
                                        "linestring": "127.079506,37.557161 127.086556,37.554433 127.087156,37.554181 127.087258,37.554142 127.087358,37.554100 127.087458,37.554056 127.087558,37.554014 127.087658,37.553967 127.087756,37.553917 127.087850,37.553867 127.087944,37.553817 127.088036,37.553764 127.088128,37.553708 127.088217,37.553653 127.088306,37.553594 127.088392,37.553533 127.088478,37.553472 127.088558,37.553411 127.088639,37.553344 127.088719,37.553281 127.088797,37.553214 127.088872,37.553144 127.088944,37.553075 127.089017,37.553006 127.089364,37.552544 127.089747,37.551850 127.089814,37.551725 127.090158,37.551081 127.090208,37.551000 127.090542,37.550497 127.090589,37.550428 127.090639,37.550358 127.090692,37.550292 127.090747,37.550225 127.090806,37.550158 127.090864,37.550097 127.090928,37.550033 127.090992,37.549975 127.091058,37.549914 127.091128,37.549858 127.091200,37.549803 127.091275,37.549750 127.091350,37.549697 127.091428,37.549647 127.091506,37.549600 127.091589,37.549553 127.091669,37.549508 127.091756,37.549467 127.091842,37.549425 127.091931,37.549389 127.092019,37.549353 127.094042,37.548639 127.102342,37.545714 127.103614,37.545344 127.103789,37.545292"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 119,
                                   "distance": 138,
                                   "start": {
                                        "name": "광나루",
                                        "lon": 127.1038638888889,
                                        "lat": 37.54526944444444
                                   },
                                   "end": {
                                        "name": "광나루역.극동아파트",
                                        "lon": 127.10331388888889,
                                        "lat": 37.544177777777776
                                   },
                                   "passShape": {
                                        "linestring": "127.103864,37.545269 127.103836,37.545189 127.103867,37.545078 127.103917,37.544939 127.103697,37.544686 127.103669,37.544669 127.103442,37.544422 127.103375,37.544319 127.103314,37.544178"
                                   }
                              },
                              {
                                   "mode": "BUS",
                                   "routeColor": "53B332",
                                   "sectionTime": 470,
                                   "route": "마을:광진01",
                                   "routeId": "1021406001",
                                   "distance": 1203,
                                   "service": 0,
                                   "start": {
                                        "name": "광나루역.극동아파트",
                                        "lon": 127.10331388888889,
                                        "lat": 37.544177777777776
                                   },
                                   "passStopList": {
                                        "stations": [
                                             {
                                                  "index": 0,
                                                  "stationName": "광나루역.극동아파트",
                                                  "lon": "127.103314",
                                                  "lat": "37.544178",
                                                  "stationID": "773995"
                                             },
                                             {
                                                  "index": 1,
                                                  "stationName": "광남고.삼성아파트",
                                                  "lon": "127.101419",
                                                  "lat": "37.542008",
                                                  "stationID": "773883"
                                             },
                                             {
                                                  "index": 2,
                                                  "stationName": "현대3차아파트",
                                                  "lon": "127.099603",
                                                  "lat": "37.540517",
                                                  "stationID": "773810"
                                             },
                                             {
                                                  "index": 3,
                                                  "stationName": "구의현대2단지아파트",
                                                  "lon": "127.096764",
                                                  "lat": "37.538025",
                                                  "stationID": "773705"
                                             },
                                             {
                                                  "index": 4,
                                                  "stationName": "강변역.테크노마트앞",
                                                  "lon": "127.094878",
                                                  "lat": "37.536397",
                                                  "stationID": "773623"
                                             }
                                        ]
                                   },
                                   "end": {
                                        "name": "강변역.테크노마트앞",
                                        "lon": 127.09487777777778,
                                        "lat": 37.53639722222222
                                   },
                                   "type": 3,
                                   "passShape": {
                                        "linestring": "127.103350,37.544158 127.103183,37.543975 127.102978,37.543778 127.102761,37.543614 127.102503,37.543469 127.102244,37.543364 127.101786,37.543192 127.101289,37.543028 127.101275,37.542867 127.101628,37.542158 127.101614,37.542122 127.101450,37.541986 127.100019,37.540831 127.099633,37.540494 127.098381,37.539400 127.098228,37.539267 127.098169,37.539214 127.096794,37.538000 127.095864,37.537178 127.094908,37.536375"
                                   }
                              },
                              {
                                   "mode": "WALK",
                                   "sectionTime": 323,
                                   "distance": 371,
                                   "start": {
                                        "name": "강변역.테크노마트앞",
                                        "lon": 127.09487777777778,
                                        "lat": 37.53639722222222
                                   },
                                   "end": {
                                        "name": "도착지",
                                        "lon": 127.09465022,
                                        "lat": 37.5351266
                                   },
                                   "steps": [
                                        {
                                             "streetName": "",
                                             "distance": 27,
                                             "description": "27m 이동",
                                             "linestring": "127.094826,37.536457 127.094734,37.536407 127.094574,37.536312"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 20,
                                             "description": "좌측 횡단보도 후 보행자도로를 따라 20m 이동",
                                             "linestring": "127.094574,37.536312 127.094574,37.536133"
                                        },
                                        {
                                             "streetName": "",
                                             "distance": 18,
                                             "description": "직진 후 18m 이동",
                                             "linestring": "127.094574,37.536133 127.094574,37.536034 127.09452,37.53599"
                                        },
                                        {
                                             "streetName": "보행자도로",
                                             "distance": 15,
                                             "description": "횡단보도 후 보행자도로를 따라 15m 이동",
                                             "linestring": "127.09452,37.53599 127.094376,37.535923"
                                        },
                                        {
                                             "streetName": "강변역로",
                                             "distance": 291,
                                             "description": "좌회전 후 강변역로를 따라 291m 이동",
                                             "linestring": "127.094376,37.535923 127.094284,37.536053 127.09421,37.536148 127.094154,37.536198 127.09374,37.536633 127.09372,37.536636 127.0937,37.53663 127.09367,37.536617 127.09366,37.5366 127.093925,37.536144 127.09402,37.535973 127.09443,37.535286 127.094536,37.535114 127.09455,37.53509 127.09455,37.535088"
                                        }
                                   ]
                              }
                         ],
                         "totalWalkTime": 624,
                         "transferCount": 2,
                         "totalDistance": 5196,
                         "pathType": 3,
                         "totalWalkDistance": 711
                    }
               ]
          }
     }
}



bus_info_df = pd.read_excel('static/data/bus_data/서울시버스정류소위치정보(20260108).xlsx')

def get_busStationID(api_response):
    bus_stops = []

    # BUS 구간 찾기
    for itinerary in api_response["metaData"]["plan"]["itineraries"]:
        for leg in itinerary["legs"]:
            if leg.get("mode") == "BUS":
                for s in leg["passStopList"]["stations"]:
                    bus_stops.append({
                        "stationName": s["stationName"],
                        "lat": float(s["lat"]),
                        "lon": float(s["lon"])
                    })


    res = {}

    for stop in bus_stops:
        name = stop['stationName']
        x = stop['lon']
        y = stop['lat']

    
        filtered = bus_info_df[bus_info_df['정류소명'].str.contains(name, na=False)]

        # 거리 계산 
        filtered['오차'] = np.sqrt((filtered['X좌표'] - x)**2 + (filtered['Y좌표'] - y)**2)

        # 오차가 가장 작은 ARS_ID 추출
        best_match = filtered.loc[filtered['오차'].idxmin(), 'ARS_ID']

        res[name] = int(best_match)
        
    return res

print(get_busStationID(api_response))